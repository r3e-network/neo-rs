[package]
name = "neo-tests"
version = "0.7.1"
edition = "2024"
publish = false
description = "Integration tests for neo-rs workspace layer boundaries and end-to-end testing"

# This is a test-only crate, not part of the main workspace
# Run with: cargo test -p neo-tests

[dependencies]
# Layer 0 - Foundation
neo-primitives = { path = "../neo-primitives" }
neo-io = { path = "../neo-io" }
neo-json = { path = "../neo-json" }
neo-storage = { path = "../neo-storage" }

# Layer 1 - Crypto
neo-crypto = { path = "../neo-crypto" }

# Layer 2 - Protocol
neo-consensus = { path = "../neo-consensus" }
neo-core = { path = "../neo-core" }
neo-vm = { path = "../neo-vm" }
neo-p2p = { path = "../neo-p2p" }

# NOTE: neo-state, neo-mempool, neo-chain, neo-config merged into neo-core

# Layer 4 - Services
neo-rpc = { path = "../neo-rpc" }
neo-telemetry = { path = "../neo-telemetry" }

# Utilities
hex = "0.4"
tokio = { version = "1", features = ["full", "test-util"] }
tracing = "0.1"
tracing-subscriber = { version = "0.3", features = ["env-filter"] }
serde_json = "1.0"
tempfile = "3"

[dev-dependencies]
criterion = { version = "0.5", features = ["html_reports"] }

[[test]]
name = "layer_boundary_tests"
path = "tests/layer_boundary_tests.rs"

[[test]]
name = "consensus_integration_tests"
path = "tests/consensus_integration_tests.rs"

[[test]]
name = "state_integration_tests"
path = "tests/state_integration_tests.rs"

[[test]]
name = "end_to_end_tests"
path = "tests/end_to_end_tests.rs"

[[test]]
name = "chaos_tests"
path = "tests/chaos_tests.rs"

[[test]]
name = "e2e_transaction_flow"
path = "tests/e2e_transaction_flow.rs"

[[test]]
name = "block_persistence"
path = "tests/block_persistence.rs"

[[test]]
name = "p2p_message_exchange"
path = "tests/p2p_message_exchange.rs"

[[test]]
name = "contract_execution"
path = "tests/contract_execution.rs"

[[bench]]
name = "performance_benchmarks"
path = "benches/performance_benchmarks.rs"
harness = false
