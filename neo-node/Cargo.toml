[package]
name = "neo-node"
version.workspace = true
edition.workspace = true
rust-version.workspace = true
authors.workspace = true
homepage.workspace = true
repository.workspace = true
documentation.workspace = true
license.workspace = true
keywords.workspace = true
categories.workspace = true
readme.workspace = true
description = "Neo N3 blockchain node daemon"

[[bin]]
name = "neo-node"
path = "src/main.rs"

[features]
default = []
# Enable TEE (Trusted Execution Environment) support
tee = ["neo-tee"]
# Enable TEE with SGX hardware
tee-sgx = ["tee", "neo-tee/sgx-hw"]
# Enable HSM (Hardware Security Module) support
hsm = ["dep:neo-hsm", "dep:rpassword"]
# Enable HSM with Ledger hardware wallet
hsm-ledger = ["hsm", "neo-hsm/ledger"]
# Enable HSM with PKCS#11 interface
hsm-pkcs11 = ["hsm", "neo-hsm/pkcs11"]

[dependencies]
# Enable full neo-core features for production node (rocksdb, upnp, monitoring, parallel)
# NOTE: neo-state, neo-chain, neo-mempool merged into neo-core
neo-core = { path = "../neo-core", features = ["full", "runtime"] }
neo-consensus = { path = "../neo-consensus" }
neo-p2p = { path = "../neo-p2p" }
neo-crypto = { path = "../neo-crypto" }
neo-vm = { path = "../neo-vm" }
neo-rpc = { path = "../neo-rpc", features = ["server"] }

# TEMPORARILY DISABLED: neo-plugins being refactored
# neo-plugins = { path = "../neo-plugins" }
neo-tee = { path = "../neo-tee", optional = true }
neo-hsm = { path = "../neo-hsm", optional = true }

# PIN input for HSM
rpassword = { version = "7.3", optional = true }

# Async channels
futures = { workspace = true }
async-trait.workspace = true

# CLI and configuration
clap = { workspace = true, features = ["derive"] }
serde = { workspace = true, features = ["derive"] }
serde_json.workspace = true
toml.workspace = true
lazy_static = { workspace = true }
prometheus = { workspace = true }
parking_lot = { workspace = true }

# Async runtime
tokio.workspace = true
hyper.workspace = true

# Logging
tracing.workspace = true
tracing-subscriber.workspace = true
tracing-appender.workspace = true

# Error handling
anyhow.workspace = true
thiserror.workspace = true

# Utilities
chrono.workspace = true
sysinfo.workspace = true
rand = { workspace = true }
url = { workspace = true }
num_cpus = { workspace = true }

[dev-dependencies]
tempfile.workspace = true
