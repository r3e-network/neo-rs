# Neo-RS Crate Refactoring: Quick Summary

## Current State: 20 Crates
```
Foundation:  neo-primitives, neo-crypto, neo-storage, neo-io, neo-json, neo-config (6)
Core:        neo-core, neo-vm, neo-contract❌, neo-p2p, neo-consensus (5)
Chain:       neo-mempool, neo-chain (2)
Services:    neo-services❌, neo-rpc, neo-rpc-client❌, neo-telemetry (4)
Application: neo-node, neo-cli (2)
Optional:    neo-tee❌ (1)
```

## Target State: 18 Crates
```
Foundation:  neo-primitives, neo-crypto, neo-storage, neo-io, neo-json, neo-config (6)
Core:        neo-core, neo-vm, neo-p2p, neo-consensus (4)
Chain:       neo-mempool, neo-chain, neo-state⭐ (3)
Services:    neo-rpc, neo-oracle⭐, neo-telemetry (3)
Application: neo-node, neo-cli (2)
```

## Actions Required

### ❌ REMOVE (4 crates)
1. **neo-contract** → Merge into neo-core/src/smart_contract/
2. **neo-services** → Inline into neo-core/src/services/
3. **neo-rpc-client** → Merge into neo-rpc/src/client/
4. **neo-tee** → Exclude from workspace (optional extension)

### ⭐ CREATE (2 crates)
1. **neo-state** ← Extract from neo-core/src/state_service/ + mpt_trie/
2. **neo-oracle** ← Extract from neo-core/src/smart_contract/native/oracle_*

## Migration Phases

### Phase 1: Cleanup (1 week)
- Remove neo-contract (duplicate code)
- Remove neo-services (single trait file)

### Phase 2: Consolidation (1 week)
- Merge neo-rpc-client into neo-rpc

### Phase 3: Oracle Extraction (1 week)
- Create neo-oracle from native contracts

### Phase 4: State Extraction (1-2 weeks)
- Create neo-state from state service + MPT trie

### Phase 5: Verification (1 week)
- Full test suite
- Documentation updates

## Risk Summary
- **High Risk**: neo-rpc-client merge (affects neo-cli API)
- **Medium Risk**: Oracle/State extraction (careful integration needed)
- **Low Risk**: neo-contract/services removal (duplicates)

## Expected Benefits
- ✅ Cleaner architecture (18 crates, clear separation)
- ✅ 3,000+ lines removed (deduplication)
- ✅ 5-10% faster builds (fewer dependencies)
- ✅ Better testability (isolated oracle/state)
