# Neo Rust Node MainNet Production Configuration
# For production Neo N3 MainNet deployment

[network]
# Network type: MainNet for production
network_type = "MainNet"
# Magic number for MainNet
network_magic = 0x334F454E  # MainNet magic

[p2p]
# P2P listening port (standard Neo port)
listen_port = 10333
# Whether to enable message compression (matches C# default)
enable_compression = true
# Minimum desired peer connections (C# default)
min_desired_connections = 10
# Maximum number of connected peers (C# default)
max_connections = 40
# Maximum connections from the same address (C# default)
max_connections_per_address = 3
# Maximum known hashes tracked (C# default)
max_known_hashes = 1000
# Broadcast history entries to retain (0 disables capture)
broadcast_history_limit = 1024

# MainNet seed nodes (official Neo infrastructure)
seed_nodes = [
    "seed1.neo.org:10333",
    "seed2.neo.org:10333",
    "seed3.neo.org:10333", 
    "seed4.neo.org:10333",
    "seed5.neo.org:10333"
]

[blockchain]
# Data directory for blockchain storage (production path)
data_dir = "/var/neo/mainnet"
# Maximum block size in bytes
max_block_size = 262144
# Block time in seconds (Neo N3 standard)
block_time = 15

[storage]
# Storage backend: rocksdb (production)
backend = "rocksdb"
# Storage path (production)
path = "/var/neo/mainnet/blockchain"
# Cache size in MB (production scale)
cache_size = 2048
# Compression algorithm for production
compression = "lz4"
# Write buffer size in MB
write_buffer_size = 128
# Max open files
max_open_files = 1000

[rpc]
# RPC server enabled for production access
enabled = true
# RPC listening address (localhost only for security)
bind_address = "127.0.0.1"
# RPC port (standard Neo RPC port)
port = 10332
# CORS disabled for production security
cors_enabled = false
# Authentication required for sensitive operations
auth_enabled = true
# Maximum concurrent connections (C# default)
max_connections = 40
# Maximum request body size in bytes (C# default 5MB)
max_request_body_size = 5242880
# Maximum GAS allowed per invoke (GAS units)
max_gas_invoke = 20.0
# Maximum GAS fee allowed (GAS units)
max_fee = 0.1
# Maximum iterator result items
max_iterator_result_items = 100
# Maximum VM stack size
max_stack_size = 65535
# Keep-alive timeout in seconds
keep_alive_timeout = 60
# Request headers timeout in seconds
request_headers_timeout = 15
# Session support disabled by default
session_enabled = false
# Session expiration time in seconds
session_expiration_time = 60
# FindStorage page size
find_storage_page_size = 50
# Disabled RPC methods (matches RpcServer default)
disabled_methods = ["openwallet"]
# RPC authentication credentials (change for production)
rpc_user = "neo"
rpc_pass = "change_me"

[consensus]
# Consensus participation enabled
enabled = true
# Minimum validator committee size (production)
min_committee_size = 21
# View change timeout in milliseconds (production tuned)
view_change_timeout = 20000
# Validator key file (when acting as validator)
validator_key_file = "/etc/neo/validator.key"

[logging]
# Enable CLI logging output (matches C# Logger.Active)
active = false
# Print logs to the console (matches C# Logger.ConsoleOutput)
console_output = false
# Production log level
level = "info"
# Structured logging for production
format = "json"
# Directory for log files (matches C# Logger.Path semantics)
path = "Logs"
# Log rotation
max_file_size = "100MB"
max_files = 10

[contracts]
# Neo Name Service contract hash (matches C# config.json)
neo_name_service = "0x50ac1c37690cc2cfc594472833cf57505d5f46de"

[plugins]
# Download URL used by the plugin bootstrapper
download_url = "https://api.github.com/repos/neo-project/neo/releases"
# Allow prerelease versions (C# default: false)
prerelease = false

[unlock_wallet]
# Automatically open a NEP-6 wallet on startup
is_active = false
# Path to the wallet file
path = ""
# Password used to decrypt the wallet
password = ""

[monitoring]
# Production health monitoring
health_check_interval = 30
# Metrics for production monitoring
metrics_enabled = true
# Prometheus metrics port
metrics_port = 9090
# Performance monitoring
performance_monitoring = true

[security]
# Enhanced security for production
rate_limiting_enabled = true
# Conservative rate limits for production
max_requests_per_second = 50
# DDoS protection for production
ddos_protection_enabled = true
# Production message size limits
max_message_size = 16777216  # 16MB
# Firewall integration
firewall_enabled = true
# SSL/TLS for RPC (production)
tls_enabled = true
tls_cert_file = "/etc/neo/server.crt"
tls_key_file = "/etc/neo/server.key"

[performance]
# Production performance tuning
worker_threads = 8
# Memory pool size for transactions
mempool_size = 50000
# Block processing threads
block_processor_threads = 4
# Network I/O threads
network_threads = 4

[backup]
# Automated backup for production
enabled = true
# Backup interval in hours
interval = 24
# Backup retention in days
retention_days = 30
# Backup location
backup_path = "/var/backups/neo"
# Backup compression
compression = true
