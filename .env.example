# =============================================================================
# Neo Rust Node Environment Configuration
# =============================================================================
# Copy this file to .env and customize for your deployment

# -----------------------------------------------------------------------------
# Network Configuration
# -----------------------------------------------------------------------------

# Network selection: mainnet, testnet, or custom
# - mainnet: Production Neo N3 MainNet
# - testnet: Neo N3 TestNet for development
NEO_NETWORK=testnet

# -----------------------------------------------------------------------------
# Storage Configuration
# -----------------------------------------------------------------------------

# Storage backend: rocksdb (persistent) or memory (ephemeral)
NEO_BACKEND=rocksdb

# Data directory inside container (optional override)
# Leave empty for auto-selection: /data/mainnet or /data/testnet
# NEO_STORAGE=/data/blockchain

# Plugin configuration directory
NEO_PLUGINS_DIR=/data/Plugins

# -----------------------------------------------------------------------------
# Configuration Files
# -----------------------------------------------------------------------------

# Path to custom TOML config inside container (optional)
# If set, NEO_NETWORK is ignored
# NEO_CONFIG=/config/custom.toml

# Host path for custom config file (for bind mount)
# NEO_CONFIG_HOST_PATH=/path/to/your/config.toml

# Host path for logs (optional, for bind mounting logs to host)
# NEO_LOGS_HOST_PATH=./logs

# -----------------------------------------------------------------------------
# Network Ports
# -----------------------------------------------------------------------------

# RPC server port override (optional)
# TestNet default: 20332, MainNet default: 10332
# NEO_RPC_PORT=20332

# P2P listen port override (optional)
# TestNet default: 20333, MainNet default: 10333
# NEO_LISTEN_PORT=20333

# Health check endpoint port (optional)
# NEO_HEALTH_PORT=8080

# Maximum header lag for health check (0 to disable)
# NEO_HEALTH_MAX_HEADER_LAG=20

# -----------------------------------------------------------------------------
# RPC Authentication (optional but recommended for production)
# -----------------------------------------------------------------------------

# RPC basic auth username
# NEO_RPC_USER=admin

# RPC basic auth password (generate with: openssl rand -hex 16)
# NEO_RPC_PASS=your-secure-password-here

# -----------------------------------------------------------------------------
# Resource Limits (Docker only)
# -----------------------------------------------------------------------------

# CPU limit (number of cores)
# NEO_CPU_LIMIT=4

# CPU reservation
# NEO_CPU_RESERVE=2

# Memory limit (format: <number><unit>, e.g., 8G, 4096M)
# NEO_MEMORY_LIMIT=8G

# Memory reservation
# NEO_MEMORY_RESERVE=4G

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------

# Rust log level: trace, debug, info, warn, error
# Format: level,module=level (e.g., info,neo_p2p=debug)
RUST_LOG=info

# Log file path inside container (optional override)
# NEO_LOG_PATH=/data/Logs/neo-node.log

# Log format: json, pretty, compact
# NEO_LOG_FORMAT=json

# -----------------------------------------------------------------------------
# Advanced Options
# -----------------------------------------------------------------------------

# Network magic override (rarely needed)
# NEO_NETWORK_MAGIC=860833102

# Maximum P2P connections
# NEO_MAX_CONNECTIONS=100

# Minimum P2P connections
# NEO_MIN_CONNECTIONS=10

# Enable state root calculation (1 to enable)
# NEO_STATE_ROOT=0

# State root DB path
# NEO_STATE_ROOT_PATH=/data/stateroot

# Storage read-only mode (for verification only, not for running)
# NEO_STORAGE_READONLY=0

# -----------------------------------------------------------------------------
# Grafana Monitoring (monitoring profile)
# -----------------------------------------------------------------------------

# Grafana admin password
GRAFANA_PASSWORD=admin

# Grafana root URL (for external access)
# GRAFANA_ROOT_URL=http://localhost:3000

# =============================================================================
# Docker Compose Helpers
# =============================================================================

# Example commands:
#   docker compose up -d neo-node              # Start node
#   docker compose --profile monitoring up -d  # Start with Grafana
#   docker compose logs -f neo-node            # View logs
#   docker compose down                        # Stop all services
#
# Or use Make targets:
#   make compose-up         # Start node
#   make compose-down       # Stop node
#   make compose-logs       # View logs
#   make compose-monitor    # Start with monitoring
# =============================================================================
